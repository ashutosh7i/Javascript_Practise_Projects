<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!--
//now lets see how to use forms with javascript,

//Step1- Make a regular HTML form
//Step2- Take note of Form Name
//step3- Take note of Form Field
-->
<form name="form" onsubmit="formProcessor()" method="GET">

<!--
    1.ask user for his birthdate using form.
-->
  Name: <input type="text" name="userName">
  <br>
  BirthDate: <input type="date" name="userBirthDate"> <!--new feature of html5-->
  <br>
  Calculate:<input type="submit" value="Submit">
</form>

<p name="age">your age is= </p>
<!--
//Step4- Make a js function to Handle form,
we will use previously made form name & form field name
//Step5- we will use document.forms function,
first input is the form name, and then form field name, which gives value of form input
//#Now this can be logged or stored in a variable.
-->
<script>

function formProcessor() {
    //store data in a variable
    let userName = document.forms["form"]["userName"].value;    //get username form form
    let userBirthDate = document.forms["form"]["userBirthDate"].value;  //get user Birthdate from form, in 2023-01-31 format

    //validity check
    if (userName == "" || userBirthDate == "") {
      alert("details must be filled out");
      return false;
    }

    //if user submitted data
    else{
        //Calculating user age
        //console.log(userBirthDate);//get in console
        alert(userName+"your age is= "+calculateAge(userBirthDate)+" years");//get in alert
    }
  }

    function calculateAge(birthday) {
    var today = new Date();
    var birthDate = new Date(birthday);
    var age = today.getFullYear() - birthDate.getFullYear();
    var m = today.getMonth() - birthDate.getMonth();
    if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
        age--;
    }
    return age;
    }

</script>
</body>
</html>